<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS Files -->    
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/action-screen.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/currency-screen.css">    
    <link rel="stylesheet" href="./css/home-screen.css">
    <link rel="stylesheet" href="./css/layout.css">
    <link rel="stylesheet" href="./css/skills-screen.css">
    <link rel="stylesheet" href="./css/stat-screen.css">
    <link rel="stylesheet" href="./css/upgrade-screen.css">
    <link rel="stylesheet" href="./css/utilities.css">
    <link rel="stylesheet" href="./css/welcome-screen.css">
    <link rel="icon" href="./media/tower.ico" type="image/x-icon">
    <title>IdleSpire</title>
</head>
<body>    
    <main>        
        <section id="welcome-container">
            <div class="welcome-header">
                <h1>IdleSpire</h1>
                <p>Power Strives Towards the Pinnacle</p>
                
                <button id="wipe-button-1" class="header-button">Wipe</button>
            </div>
            <div class="card">
                <h2>Create Your Character</h2>
                <form id="character-form">
                    <div class="form-group">
                    <input type="text" id="character-name" name="character-name" required placeholder="Enter your character's name" 
                        minlength="2" maxlength="20">
                    </div>
                    
                    <div class="form-group" id="class-selection-group">
                    <label>Choose Your Starting Class</label>
                    <div class="class-selection">
                        <button type="button" id="class-waif" class="class-choice" data-class="Waif">
                        <span class="class-name">Waif</span><br>
                        <span class="class-desc">A humble street urchin with quick wits and survival instincts.</span>
                        </button>
                        <button type="button" id="class-vagabond" class="class-choice" data-class="Vagabond">
                        <span class="class-name">Vagabond</span><br>
                        <span class="class-desc">A wanderer with basic skills and knowledge of the wilds.</span>
                        </button>
                    </div>
                    </div>
                    
                    <div class="character-info" id="character-info">
                    <p>Your story begins with nothing but the clothes on your back and your wits. Through persistence and clever choices, you'll
                        rise through the ranks of society, mastering skills and uncovering the land's many secrets.</p>
                    </div>
                    
                    <div class="form-actions">
                    <button type="submit" id="start-game" class="btn-primary" aria-label="Begin Your Journey">Begin Your Journey</button>
                    </div>
                </form>
            </div>
        </section>        
        <section id="game-container" class="hidden">
            <div id="game">
                <header class="game-header">
                    <div class="header-content">
                        <h1 id="game-title">IdleSpire</h1>
                        <div id="game-character-info">Unnamed the Level 1 Waif</div>
                    </div>
                    <div class="header-disclaimer">
                        <p>Disclaimer: This game is a work in progress. Features and content are subject to change.</p>
                        <p>Last updated: 4/27 @ 12:33am EST</p>
                    </div>            
                    <div class="header-buttons">
                        <button id="save-button" class="header-button">Save</button>
                        <button id="wipe-button" class="header-button">Wipe</button>
                    </div>                   
                </header>
                <nav>
                    <ul id="game-nav">
                        <li><button id="main" class="nav-button active" aria-label="Main Screen" data-screen="main">Main</button></li>
                        <li><button id="skills" class="nav-button" aria-label="View Skills" data-screen="skills">Skills</button></li>
                        <li><button id="house" class="nav-button" aria-label="View House" data-screen="house">House</button></li>
                        <li><button id="quests" class="nav-button" aria-label="View Quests" data-screen="quests">Quests</button></li>
                        <li><button id="character" class="nav-button" aria-label="Character Screen" data-screen="character">Character</button></li>
                    </ul>
                </nav>
                <div id="game-content">
                    <sidebar id="currency-panel">
                      <!-- Currency Display Populated from templates by JS -->
                    </sidebar>
                    <div id="main-content" class="game-section">                                                   
                        <!-- Content changes based on active screen -->
                        <div id="main-screen" class="screen active">
                            <!-- Action buttons and upgrade buttons will generate here-->
                            <div class="action-section">
                                <div class="action-buttons">
                                    <!-- Action buttons will be generated here -->
                                </div>
                            </div>
                            <div class="upgrade-section">
                                <div class="upgrade-buttons">
                                  <!-- Upgrade buttons will be generated here -->
                              </div>
                            </div>
                        </div>
                        <div id="skills-screen" class="screen hidden">
                            <!-- Skill buttons will generate here-->
                        </div>
                        <div id="house-screen" class="screen hidden">
                          <div class="current-home-button-container">
                              <button id="current-home-btn" class="current-home-button">
                                  Current Home
                              </button>
                              <div class="home-button-tooltip">
                                  <h4 id="home-tooltip-name">Home Name</h4>
                                  <p id="home-tooltip-description">Home Description</p>
                                  <div id="home-tooltip-space">Floor Space: 0/0</div>
                                  <div id="home-tooltip-mods">Modifications: None</div>
                              </div>
                          </div>
                          
                          <div id="home-selection-container" class="home-selection-grid hidden">
                              <!-- Dynamically populated home selection buttons -->
                          </div>
                          
                          <div id="furniture-selection-container" class="furniture-selection-grid hidden">
                              <!-- Dynamically populated furniture selection buttons -->
                          </div>
                      </div>
                        <div id="quests-screen" class="screen hidden">
                            <!-- Quests content will generate here-->
                            <p>Placeholder for Quests</p>
                        </div>
                        <div id="character-screen" class="screen hidden">
                            <!-- Character stats and info will generate here-->
                            <p>Placeholder for Character</p>
                        </div>
                    </div>
                    <sidebar id="status-display">
                        <div id="current-action">
                            <h3>Current Action</h3>
                            <p id="action-text">None</p>
                            <!-- Progress bar and cancel button will be added here dynamically -->
                        </div>
                      <div id="stats-panel">
                        <!-- Stat Bar Display Populated from templates by JS -->
                      </div>
                    </sidebar>
                    <sidebar id="action-log">
                      <h3 class="action-log-title">Activity Log</h3>
                      <div class="action-log-entries">
                        <!-- Action Log entries will be populated here -->
                      </div>
                    </sidebar>
                </div>
            </div>
        </section>
    </main>
    <footer class="game-footer">
        &copy; 2025 Synapse Interactive LLC. MIT License. Dev Page: <a href="https://github.com/synapseinteractivellc/IdleSpire">Github</a>
    </footer>

    <template id="currency-category-template">
      <div class="currency-category-container">
        <div class="currency-category-header">
          <h3 class="currency-category-name">CATEGORY_NAME</h3>
          <button class="currency-category-toggle" aria-label="Toggle CATEGORY_NAME Skills">
            <span class="toggle-icon">▼</span>
          </button>
        </div>
        <div class="currency-category-content">
          <!-- Currency elements will be added here -->
        </div>
      </div>
    </template>
    <template id="currency-template">
      <div class="currency-container">
        <div class="currency-info">
          <span class="currency-name">CURRENCY_NAME</span>
          <span class="currency-values">CURRENT_VALUE/MAX_VALUE</span>
        </div>
        <div class="currency-tooltip">
          <span class="currency-rate">GAIN_RATE/sec</span>
        </div>
      </div>
    </template>

    <template id="stat-category-template">
      <div class="stat-category-container">
        <div class="stat-category-header">
          <h3 class="stat-category-name">CATEGORY_NAME</h3>
          <button class="stat-category-toggle" aria-label="Toggle CATEGORY_NAME Skills">
            <span class="toggle-icon">▼</span>
          </button>
        </div>
        <div class="stat-category-content">
          <!-- Stat elements will be added here -->
        </div>
      </div>
    </template>
    <template id="stat-template">
        <div class="stat-container">
          <div class="stat-label">STAT_NAME</div>
          <div class="stat-bar-container">
            <div class="stat-bar" data-stat-type="STAT_TYPE">
              <span class="stat-values">CURRENT_VALUE/MAX_VALUE</span>
            </div>
          </div>
          <div class="stat-tooltip">
            <span class="stat-rate">GAIN_RATE/sec</span>
          </div>
        </div>
    </template>

    <template id="action-category-template">
      <div class="action-category-container">
        <div class="action-category-header">
          <h3 class="action-category-name">CATEGORY_NAME</h3>
          <button class="action-category-toggle" aria-label="Toggle CATEGORY_NAME Skills">
            <span class="toggle-icon">▼</span>
          </button>
        </div>
        <div class="action-category-content">
          <!-- Action elements will be added here -->
        </div>
      </div>
    </template>
    <template id="action-button-template">
        <div class="action-button-container">
            <button class="action-button" id="ACTION_ID" data-action-id="ACTION_TYPE" aria-label="ACTION_LABEL">
                <div class="action-button-fill" data-progress="low"></div>
                <span class="action-name">ACTION_NAME</span>                
            </button>
            <!-- Tooltip moved outside the button -->
            <div class="action-button-tooltip">
                <span class="action-name-tooltip">ACTION_NAME</span><br>
                <span class="action-completions">Completions: 0</span><br>
                <span class="action-current-percentage">Progress: 0%</span><br>
                <span class="action-description">ACTION_DESCRIPTION</span><br>
                <div class="action-costs">COSTS</div><br>
                <div class="action-rewards">REWARDS</div>
            </div>
        </div>
    </template>

    <template id="upgrade-category-template">
      <div class="upgrade-category-container">
        <div class="upgrade-category-header">
          <h3 class="upgrade-category-name">CATEGORY_NAME</h3>
          <button class="upgrade-category-toggle" aria-label="Toggle CATEGORY_NAME Skills">
            <span class="toggle-icon">▼</span>
          </button>
        </div>
        <div class="upgrade-category-content">
          <!-- Upgrade elements will be added here -->
        </div>
      </div>
    </template>
    <template id="upgrade-button-template">
      <div class="upgrade-button-container" id="UPGRADE_CONTAINER_ID">
          <button class="upgrade-button" id="UPGRADE_BUTTON_ID" data-upgrade-id="UPGRADE_TYPE" aria-label="UPGRADE_LABEL">
              <div class="upgrade-button-fill" data-progress="low"></div>
              <span class="upgrade-name">UPGRADE_NAME</span>              
          </button>
          <!-- Tooltip moved outside the button -->
          <div class="upgrade-button-tooltip">
              <span class="upgrade-name-tooltip">UPGRADE_NAME</span><br>
              <span class="upgrade-completions">Purchased: CURRENT_COUNT/MAX_COUNT</span><br>
              <span class="upgrade-description">UPGRADE_DESCRIPTION</span><br>
              <div class="upgrade-costs">COSTS</div><br>
              <div class="upgrade-effects">EFFECTS</div>
          </div>
      </div>
  </template>
  

    <template id="current-action-template">
        <div class="current-action-container">
          <div class="current-action-header">
            <span class="current-action-name">ACTION_NAME</span>
            <button class="cancel-button" aria-label="Cancel Action">✕</button>
          </div>
          <div class="progress-bar-container">
            <div class="progress-bar-fill"></div>
            <span class="progress-bar-text">PROGRESS_PERCENT%</span>
          </div>
          <div class="current-action-details">
            <div class="current-action-costs">COSTS</div>
            <div class="current-action-rewards">REWARDS</div>
          </div>
        </div>
    </template>
    <template id="action-log-entry-template">
        <div class="action-log-entry">
          <div class="action-log-timestamp">TIMESTAMP</div>
          <div class="action-log-message">ACTION_MESSAGE</div>
        </div>
    </template>

    <template id="skill-template">
      <div class="skill-container">
        <div class="skill-fill"></div>
        <div class="skill-header">
          <span class="skill-name">SKILL_NAME</span>
          <span class="skill-level">Level CURRENT_LEVEL/MAX_LEVEL</span>
        </div>
        <span class="skill-xp-values">XP_CURRENT/XP_NEEDED</span>
        <div class="skill-tooltip">
          <div class="skill-description">SKILL_DESCRIPTION</div>
          <div class="skill-bonuses">SKILL_BONUSES</div>
        </div>
      </div>
    </template>
      
    <template id="skill-category-template">
      <div class="skill-category-container">
        <div class="skill-category-header">
          <h3 class="skill-category-name">CATEGORY_NAME</h3>
          <button class="skill-category-toggle" aria-label="Toggle CATEGORY_NAME Skills">
            <span class="toggle-icon">▼</span>
          </button>
        </div>
        <div class="skill-category-content">
          <!-- Skill elements will be added here -->
        </div>
      </div>
    </template>

    <template id="home-selection-template">
      <div class="home-selection-container">
          <button class="home-selection-button" data-home-id="HOME_ID">
              <span class="home-name">HOME_NAME</span>
          </button>
          <div class="home-selection-tooltip">
              <h4 class="home-tooltip-name">HOME_NAME</h4>
              <p class="home-tooltip-description">HOME_DESCRIPTION</p>
              <div class="home-tooltip-space">Floor Space: FLOOR_SPACE</div>
              <div class="home-tooltip-requirements">Requirements: REQUIREMENTS</div>
          </div>
      </div>
    </template>

    <template id="furniture-grid-template">
      <div class="furniture-grid">
        <!-- Furniture items will be added here dynamically -->
      </div>
    </template>
    
    <template id="furniture-item-template">
      <div class="furniture-item">
        <div class="furniture-item-content">
          <div class="furniture-size">SIZE</div>
          <div class="furniture-name">
            <span class="furniture-star">★</span>
            FURNITURE_NAME
          </div>
          <div class="furniture-owned">OWNED/MAX</div>
          <div class="furniture-buttons">
            <button class="furniture-buy-button">Buy</button>
            <button class="furniture-sell-button">Sell</button>
          </div>
        </div>
        <div class="furniture-tooltip">
          <h3 class="tooltip-title">FURNITURE_NAME <span class="tooltip-max">max: MAX</span> <span class="tooltip-star">★</span></h3>
          <div class="tooltip-category">FURNITURE_CATEGORY</div>
          <p class="tooltip-description">FURNITURE_DESCRIPTION</p>
          <div class="tooltip-divider"></div>
          <div class="tooltip-cost-section">
            <h4>Cost</h4>
            <div class="tooltip-cost">Gold: COST_GOLD</div>
          </div>
          <div class="tooltip-divider"></div>
          <div class="tooltip-modifications-section">
            <h4>Modifications:</h4>
            <div class="tooltip-modification">Floor Space: FLOOR_SPACE</div>
            <div class="tooltip-modification">Gold Rate: GOLD_RATE</div>
            <div class="tooltip-modification">Other Effects: OTHER_EFFECTS</div>
          </div>
          <div class="tooltip-notes">SPECIAL_NOTES</div>
        </div>
      </div>
    </template>

    
    
    <!-- Core System Scripts -->
    <script src="./js/controllers/eventController.js"></script>
    <script src="./js/utils/testEventController.js"></script>

    <!-- Models -->
    <script src="./js/models/resource.js"></script>
    <script src="./js/models/stat.js"></script>
    <script src="./js/models/currency.js"></script>
    <script src="./js/models/action.js"></script>
    <script src="./js/models/character.js"></script>
    <script src="./js/models/upgrade.js"></script>
    <script src="./js/models/skill.js"></script>
    <script src="./js/models/home.js"></script>
    <script src="./js/models/furniture.js"></script>
    <script src="./js/models/gameState.js"></script>

    <!-- Controllers -->
    <script src="./js/controllers/saveController.js"></script>
    <script src="./js/controllers/uiController.js"></script>
    <script src="./js/controllers/characterController.js"></script>
    <script src="./js/controllers/actionController.js"></script>
    <script src="./js/controllers/skillController.js"></script>
    <script src="./js/controllers/resourceController.js"></script>
    <script src="./js/controllers/upgradeController.js"></script>
    <script src="./js/controllers/homeController.js"></script>
    <script src="./js/controllers/furnitureController.js"></script>
    <script src="./js/controllers/actionLogController.js"></script>

    <!-- Views -->
    <script src="./js/views/viewManager.js"></script>

    <!-- Main Game Script (must be last) -->
    <script src="./js/game.js"></script>
</body>
</html>